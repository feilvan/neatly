/*========================================================================================================*

  +-----+-----+-----+-----+-----+-----+-----+
  | █▀▀ | ▄▀█ | █▀▀ | █▀▀ | ▄▀█ | █▀▄ | █▀▀ |
  | █▄▄ | █▀█ | ▄▄█ | █▄▄ | █▀█ | █▄▀ | ██▄ |
  +-----+-----+-----+-----+-----+-----+-----+ Mouse Edition.


    Description:    Cascade, Mouse Edition, is a Firefox Style based on the Cascade theme by Andreas Grafen
                    What you get is a really simple one-line layout using the new Proton UI.

                  The original Cascade Theme by Andreas Grafen was based on SimpleFox :
                  > SimpleFox: https://github.com/migueravila/SimpleFox


    Authors:        Andreas Grafen (original cascade theme)
                    (https://andreas.grafen.info)

		            Clément Rambaud (minor tweaks on the original file)


    Repository:     https://github.com/andreasgrafen/cascade
  		            https://github.com/crambaud/cascade

*========================================================================================================*/

/*---+---+---+---+---+---+
 | C | O | N | F | I | G |
 +---+---+---+---+---+---*/

/* Feel free to tweak the following
 * config settingsto your own liking. */

 :root {
  /*---+---+---+---+---+---+---+
     | C | O | L | O | U | R | S |
     +---+---+---+---+---+---+---*/

  /* Comment the color theme you don't want to use */

  --window-colour: #141b1e;
  --secondary-colour: #8aadf4;
  --inverted-colour: #fafafc;

  /* Dark Theme Colors
    --window-colour:               #1f2122;
    --secondary-colour:            #141616;
    --inverted-colour:             #FAFAFC;
	*/

  /* Light Theme Colors
    --window-colour:               #FAFAFC;
    --secondary-colour:            #EAEAEC;
    --inverted-colour:             #1E2021;
    */

  /* Containter Tab Colours */
  --uc-identity-color-blue: #7ed6df;
  --uc-identity-color-turquoise: #55e6c1;
  --uc-identity-color-green: #b8e994;
  --uc-identity-color-yellow: #f7d794;
  --uc-identity-color-orange: #f19066;
  --uc-identity-color-red: #fc5c65;
  --uc-identity-color-pink: #f78fb3;
  --uc-identity-color-purple: #786fa6;

  /* URL colour in URL bar suggestions */
  --urlbar-popup-url-color: var(--uc-identity-color-purple) !important;

  /*---+---+---+---+---+---+---+
     | V | I | S | U | A | L | S |
     +---+---+---+---+---+---+---*/

  /* global border radius */
  --uc-border-radius: 5px;

  /* dynamic url bar width settings */
  --uc-urlbar-width: clamp(250px, 50vw, 600px);

  /* dynamic tab width settings */
  --uc-active-tab-width: clamp(50px, 18vw, 220px);
  --uc-inactive-tab-width: clamp(50px, 15vw, 200px);

  /* if active always shows the tab close button */
  --show-tab-close-button: none; /* DEFAULT: -moz-inline-box; */

  /* if active only shows the tab close button on hover*/
  --show-tab-close-button-hover: -moz-inline-box; /* DEFAULT: -moz-inline-box; */

  /* adds left and right margin to the container-tabs indicator */
  --container-tabs-indicator-margin: 0px;
}

/*---+---+---+---+---+---+---+
     | B | U | T | T | O | N | S |
     +---+---+---+---+---+---+---*/

/* showing only the back button */
/* #back-button{ display: -moz-inline-box !important; } */
/* #forward-button{ display: none !important; } */

#back-button[disabled="true"] {
  display: none !important;
}
#forward-button[disabled="true"] {
  display: none !important;
}

#stop-button {
  display: none !important;
}
#reload-button {
  display: none !important;
}

/* bookmark icon */
#star-button {
  display: none !important;
}

/* zoom indicator */
#urlbar-zoom-button {
  display: none !important;
}

/* Show Hamburger Menu */
#PanelUI-button {
  display: -moz-inline-box !important;
}

#reader-mode-button {
  display: none !important;
}

/* tracking protection shield icon */
#tracking-protection-icon-container {
  display: none !important;
}

/* #identity-box { display: none !important } /* hides encryption AND permission items */
#identity-permission-box {
  display: none !important;
} /* only hides permission items */

/* e.g. playing indicator (secondary - not icon) */
.tab-secondary-label {
  display: none !important;
}

#pageActionButton {
  display: none !important;
}
#page-action-buttons {
  display: none !important;
}

/*=============================================================================================*/

/*---+---+---+---+---+---+
 | L | A | Y | O | U | T |
 +---+---+---+---+---+---*/

/* No need to change anything below this comment.
 * Just tweak it if you want to tweak the overall layout. c: */

:root {
  --uc-theme-colour: var(--window-colour);
  --uc-hover-colour: var(--secondary-colour);
  --uc-inverted-colour: var(--inverted-colour);

  --button-bgcolor: var(--uc-theme-colour) !important;
  --button-hover-bgcolor: var(--uc-hover-colour) !important;
  --button-active-bgcolor: var(--uc-hover-colour) !important;

  --toolbar-bgcolor: var(--uc-theme-colour) !important;
  --toolbarbutton-hover-background: var(--uc-hover-colour) !important;
  --toolbarbutton-active-background: var(--uc-hover-colour) !important;
  --toolbarbutton-border-radius: var(--uc-border-radius) !important;
  --lwt-toolbar-field-focus: var(--uc-theme-colour) !important;
  --toolbarbutton-icon-fill: var(--uc-inverted-colour) !important;
  --toolbar-field-focus-background-color: var(--secondary-colour) !important;
  --toolbar-field-color: var(--uc-inverted-colour) !important;
  --toolbar-field-focus-color: var(--uc-inverted-colour) !important;

  --tabs-border-color: var(--uc-theme-colour) !important;
  --tab-border-radius: var(--uc-border-radius) !important;
  --lwt-text-color: var(--uc-inverted-colour) !important;
  --lwt-tab-text: var(--uc-inverted-colour) !important;

  --lwt-sidebar-background-color: var(--uc-hover-colour) !important;
  --lwt-sidebar-text-color: var(--uc-inverted-colour) !important;

  --arrowpanel-border-color: var(--uc-theme-colour) !important;
  --arrowpanel-border-radius: var(--uc-border-radius) !important;
  --arrowpanel-background: var(--uc-theme-colour) !important;
  --arrowpanel-color: var(--inverted-colour) !important;

  --autocomplete-popup-highlight-background: var(
    --uc-inverted-colour
  ) !important;
  --autocomplete-popup-highlight-color: var(--uc-inverted-colour) !important;
  --autocomplete-popup-hover-background: var(--uc-inverted-colour) !important;

  --tab-block-margin: 2px !important;
}

window,
#main-window,
#toolbar-menubar,
#TabsToolbar,
#PersonalToolbar,
#navigator-toolbox,
#sidebar-box,
#nav-bar {
  -moz-appearance: none !important;

  border: none !important;
  box-shadow: none !important;
  background: var(--uc-theme-colour) !important;
}

/* grey out ccons inside the toolbar to make it
 * more aligned with the Black & White colour look */
#PersonalToolbar toolbarbutton:not(:hover),
#bookmarks-toolbar-button:not(:hover) {
  filter: grayscale(0) !important;
}

/* Show Window Control Button */
.titlebar-buttonbox-container {
  visibility: collapse !important;
}
/* .titlebar-buttonbox-container {visibility: collapse !important;} */

/* From Simplify @dcpdcp11 */
#tabs-newtab-button,
.titlebar-button > .toolbarbutton-icon,
.titlebar-button,
toolbar
  #tabs-newtab-button:not([disabled="true"]):not([checked]):not([open]):not(:active)
  > .toolbarbutton-icon,
.tabbrowser-tab > .tab-stack > .tab-background:not([selected="true"]),
toolbar#nav-bar toolbarbutton .toolbarbutton-icon,
toolbar#nav-bar toolbarbutton #fxa-avatar-image {
  transition: all 0.3s ease !important;
}

.titlebar-buttonbox {
  padding: 6px !important;
  margin-right: 6px !important;
}

.titlebar-button {
  transition: all 0.3s ease !important;
  border-radius: 50% !important;
}

.titlebar-button {
  background-color: transparent !important;
  padding: 5px 4px !important;
  margin-left: 24px !important;
}
.titlebar-button > .toolbarbutton-icon {
  width: 14px !important;
  height: 14px !important;
  background: #343d49 !important;
  stroke: #343d49 !important;
  border-radius: 50% !important;
}
.titlebar-button.titlebar-min > .toolbarbutton-icon {
  background: #efda0f !important;
  stroke: #efda0f !important;
}
.titlebar-button.titlebar-max > .toolbarbutton-icon {
  background: #bf00dc !important;
  stroke: #bf00dc !important;
}
.titlebar-button.titlebar-restore > .toolbarbutton-icon {
  background: #bf00dc !important;
  stroke: #bf00dc !important;
}
.titlebar-button.titlebar-close > .toolbarbutton-icon {
  background: #ff4267 !important;
  stroke: #ff4267 !important;
}
.titlebar-button.titlebar-close:hover > .toolbarbutton-icon,
.titlebar-button.titlebar-max:hover > .toolbarbutton-icon,
.titlebar-button.titlebar-restore:hover > .toolbarbutton-icon,
.titlebar-button.titlebar-min:hover > .toolbarbutton-icon {
  background: transparent !important;
}

/* remove gap before & after url bar */
#nav-bar toolbarpaletteitem[id^="wrapper-customizableui-special-spring"],
#nav-bar toolbarspring {
  -moz-box-flex: 0 !important;
}

/* add gap before forward button */
toolbarbutton#forward-button.toolbarbutton-1.chromeclass-toolbar-additional {
  padding-inline-start: var(--toolbar-start-end-padding) !important;
}

/* remove "padding" left and right from tabs */
.titlebar-spacer {
  display: none !important;
}

/* remove gap after pinned tabs */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

/* remove tab shadow */
.tabbrowser-tab > .tab-stack > .tab-background {
  box-shadow: none !important;
}

/* tab background */
.tabbrowser-tab > .tab-stack > .tab-background {
  background: var(--uc-theme-colour) !important;
}

/* active tab background */
.tabbrowser-tab[selected] > .tab-stack > .tab-background {
  background: var(--uc-hover-colour) !important;
}

/* tab close button options */
.tabbrowser-tab:not([pinned]) .tab-close-button {
  display: var(--show-tab-close-button) !important;
}
.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: var(--show-tab-close-button-hover) !important;
}

/* adaptive tab width */
.tabbrowser-tab[selected][fadein]:not([pinned]) {
  max-width: var(--uc-active-tab-width) !important;
}
.tabbrowser-tab[fadein]:not([selected]):not([pinned]) {
  max-width: var(--uc-inactive-tab-width) !important;
}

/* container tabs indicator */
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin: -1px var(--container-tabs-indicator-margin) 0
    var(--container-tabs-indicator-margin) !important;

  border-radius: var(--tab-border-radius) !important;
}

.tab-background {
  border-radius: 999px !important;
}

.tab-content {
  padding: 0 12px 0 5.5px !important;
}

:root:not([privatebrowsingmode="temporary"], [firefoxviewhidden]) :is(toolbarbutton, toolbarpaletteitem) + #tabbrowser-tabs, :root[privatebrowsingmode="temporary"]:not([firefoxviewhidden]) :is(toolbarbutton:not(#firefox-view-button), toolbarpaletteitem:not(#wrapper-firefox-view-button)) + #tabbrowser-tabs {
  border-inline-start: 0 !important;
  padding-inline-start: 0 !important;
  margin-inline-start: 0 !important;
}

/* show favicon when media is playing but tab is hovered */
.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
}

/* Makes the speaker icon to always appear if the tab is playing (not only on hover) */
.tab-icon-overlay:not([crashed]),
.tab-icon-overlay[pinned][crashed][selected] {
  top: 5px !important;
  z-index: 1 !important;

  padding: 1.5px !important;
  inset-inline-end: -8px !important;
  width: 16px !important;
  height: 16px !important;

  border-radius: 10px !important;
}

/* style and position speaker icon */
.tab-icon-overlay:not([sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked]) {
  stroke: transparent !important;
  background: transparent !important;
  opacity: 1 !important;
  fill-opacity: 0.8 !important;

  color: currentColor !important;

  stroke: var(--uc-theme-colour) !important;
  background-color: var(--uc-theme-colour) !important;
}

/* change the colours of the speaker icon on active tab to match tab colours */
.tabbrowser-tab[selected]
  .tab-icon-overlay:not([sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked]) {
  stroke: var(--uc-hover-colour) !important;
  background-color: var(--uc-hover-colour) !important;
}

.tab-icon-overlay:not([pinned], [sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked]) {
  margin-inline-end: 9.5px !important;
}

.tabbrowser-tab:not([image])
  .tab-icon-overlay:not([pinned], [sharing], [crashed]) {
  top: 0 !important;

  padding: 0 !important;
  margin-inline-end: 5.5px !important;
  inset-inline-end: 0 !important;
}

.tab-icon-overlay:not([crashed])[soundplaying]:hover,
.tab-icon-overlay:not([crashed])[muted]:hover,
.tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  color: currentColor !important;
  stroke: var(--uc-inverted-colour) !important;
  background-color: var(--uc-inverted-colour) !important;
  fill-opacity: 0.95 !important;
}

.tabbrowser-tab[selected] .tab-icon-overlay:not([crashed])[soundplaying]:hover,
.tabbrowser-tab[selected] .tab-icon-overlay:not([crashed])[muted]:hover,
.tabbrowser-tab[selected]
  .tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  color: currentColor !important;
  stroke: var(--uc-inverted-colour) !important;
  background-color: var(--uc-inverted-colour) !important;
  fill-opacity: 0.95 !important;
}

/* speaker icon colour fix */
#TabsToolbar .tab-icon-overlay:not([crashed])[soundplaying],
#TabsToolbar .tab-icon-overlay:not([crashed])[muted],
#TabsToolbar .tab-icon-overlay:not([crashed])[activemedia-blocked] {
  color: var(--uc-inverted-colour) !important;
}

/* speaker icon colour fix on hover */
#TabsToolbar .tab-icon-overlay:not([crashed])[soundplaying]:hover,
#TabsToolbar .tab-icon-overlay:not([crashed])[muted]:hover,
#TabsToolbar .tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  color: var(--uc-theme-colour) !important;
}

#nav-bar {
  border: none !important;
  box-shadow: none !important;
  background: transparent !important;
}

/* remove border below whole nav */
#navigator-toolbox {
  border-bottom: none !important;
}

#urlbar,
#urlbar * {
  box-shadow: none !important;
}

#urlbar-background {
  border: var(--uc-hover-colour) !important;
}

#urlbar[focused="true"] > #urlbar-background,
#urlbar:not([open]) > #urlbar-background {
  background: transparent !important;
}

#urlbar[open] > #urlbar-background {
  background: var(--uc-theme-colour) !important;
}

.urlbarView-row:hover > .urlbarView-row-inner,
.urlbarView-row[selected] > .urlbarView-row-inner {
  background: var(--uc-hover-colour) !important;
}

/* remove extensionPage */
#identity-box.extensionPage {
  visibility: collapse !important;
}

/* fix margin before bar (caused by removing extensionPage)*/
#urlbar-container,
#search-container {
  margin-inline: 10px !important;
}

/* transition to oneline */
@media (min-width: 1000px) {
  /* move tabs bar over */
  #TabsToolbar {
    margin-left: var(--uc-urlbar-width) !important;
  }

  /* move entire nav bar  */
  #nav-bar {
    margin: calc((var(--urlbar-min-height) * -1) - 8px)
      calc(100vw - var(--uc-urlbar-width)) 0 0 !important;
  }
} /* end media query */

/* Container Tabs */
.identity-color-blue {
  --identity-tab-color: var(--uc-identity-color-blue) !important;
  --identity-icon-color: var(--uc-identity-color-blue) !important;
}
.identity-color-turquoise {
  --identity-tab-color: var(--uc-identity-color-turquoise) !important;
  --identity-icon-color: var(--uc-identity-color-turquoise) !important;
}
.identity-color-green {
  --identity-tab-color: var(--uc-identity-color-green) !important;
  --identity-icon-color: var(--uc-identity-color-green) !important;
}
.identity-color-yellow {
  --identity-tab-color: var(--uc-identity-color-yellow) !important;
  --identity-icon-color: var(--uc-identity-color-yellow) !important;
}
.identity-color-orange {
  --identity-tab-color: var(--uc-identity-color-orange) !important;
  --identity-icon-color: var(--uc-identity-color-orange) !important;
}
.identity-color-red {
  --identity-tab-color: var(--uc-identity-color-red) !important;
  --identity-icon-color: var(--uc-identity-color-red) !important;
}
.identity-color-pink {
  --identity-tab-color: var(--uc-identity-color-pink) !important;
  --identity-icon-color: var(--uc-identity-color-pink) !important;
}
.identity-color-purple {
  --identity-tab-color: var(--uc-identity-color-purple) !important;
  --identity-icon-color: var(--uc-identity-color-purple) !important;
}

/* autohide bookmark */
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/autohide_bookmarks_toolbar.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

#PersonalToolbar {
  --uc-bm-height: 20px; /* Might need to adjust if the toolbar has other buttons */
  --uc-bm-padding: 7px; /* Vertical padding to be applied to bookmarks */
  --uc-autohide-toolbar-delay: 100ms; /* The toolbar is hidden after 0.1s */

  /* 0deg = "show" ; 90deg = "hide" ;  Set the following to control when bookmarks are shown */
  --uc-autohide-toolbar-focus-rotation: 0deg; /* urlbar is focused */
  --uc-autohide-toolbar-hover-rotation: 0deg; /* cursor is over the toolbar area */
}

:root[uidensity="compact"] #PersonalToolbar {
  --uc-bm-padding: 1px;
}
:root[uidensity="touch"] #PersonalToolbar {
  --uc-bm-padding: 7px;
}

#PersonalToolbar:not([customizing]) {
  position: relative;
  margin-bottom: calc(0px - var(--uc-bm-height) - 2 * var(--uc-bm-padding));
  transform: rotateX(90deg);
  transform-origin: top;
  transition: transform 135ms linear var(--uc-autohide-toolbar-delay) !important;
  z-index: 1;
  /* The following properties should allow the themes with trasparent toolbars to work */
  /* background-color: transparent !important; */
  background-repeat: no-repeat, no-repeat, var(--lwt-background-tiling);
  --uc-bg-y: calc(
    -2 * (
        var(--tab-block-margin) + var(--toolbarbutton-inner-padding) +
          var(--toolbarbutton-outer-padding)
      ) - var(--tab-min-height) - 16px - var(--bookmark-block-padding)
  );
  background-position: top left, top left,
    var(--lwt-background-alignment, top left);
  background-position-y: top, top, var(--uc-bg-y), var(--uc-bg-y),
    var(--uc-bg-y);
  background-image: var(--toolbar-bgimage),
    linear-gradient(var(--toolbar-bgcolor), var(--toolbar-bgcolor)),
    var(--lwt-header-image, var(--lwt-additional-images)) !important;
}

#PlacesToolbarItems > .bookmark-item,
#OtherBookmarks,
#PersonalToolbar > #import-button {
  padding-block: var(--uc-bm-padding) !important;
}

#nav-bar:focus-within + #PersonalToolbar {
  transition-delay: 100ms !important;
  transform: rotateX(var(--uc-autohide-toolbar-focus-rotation, 0));
}

#navigator-toolbox:hover > #PersonalToolbar {
  transition-delay: 100ms !important;
  transform: rotateX(var(--uc-autohide-toolbar-hover-rotation, 0));
}

#navigator-toolbox:hover > #nav-bar:focus-within + #PersonalToolbar {
  transform: rotateX(0);
}

/* Uncomment to enable compatibility for multi-row_bookmarks.css */
/* This would break buttons placed in the toolbar but that is likely not happening if you are using multi-row setup  */
/*
  #PersonalToolbar:not([customizing]){
	position: fixed;
	display: block;
	margin-bottom: 0px !important;
  }
  */

#alltabs-button {
  list-style-image: url(chrome://global/skin/icons/arrow-down.svg);
  display: none;
}

/* [START] Frankenstein */

.tabbrowser-tab:is([selected], [multiselected]):-moz-lwtheme {
  color: #24273a !important;
}

.tab-throbber:not([pinned]), .tab-icon-pending:not([pinned]), .tab-icon-image:not([pinned]), .tab-sharing-icon-overlay:not([pinned]), .tab-icon-overlay:not([pinned]) {
  background: #141b1e !important;
  padding: 6px !important;
  border-radius: 99px !important;
}

#navigator-toolbox:-moz-lwtheme {
  padding: 6px 0;
}

/* [END] Frankenstein */